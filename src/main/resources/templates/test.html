<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>카카오 로그인 토큰 확인</title>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            function getCookie(name) {
                let matches = document.cookie.match(new RegExp("(^| )" + name + "=([^;]+)"));
                return matches ? matches[2] : null;
            }

            let tokenFromCookie = getCookie("jwt_token");
            if (tokenFromCookie) {
                document.getElementById("cookieToken").textContent = tokenFromCookie;
            } else {
                document.getElementById("cookieToken").textContent = "쿠키에 토큰이 저장되지 않았습니다.";
            }
        });
    </script>
</head>
<body>
<h1>카카오 로그인 완료</h1>

<h2>📌 Access Token</h2>
<p>서버에서 받은 토큰: <span th:text="${jwtToken}"></span></p>
<p>쿠키에 저장된 토큰: <span id="cookieToken"></span></p>

<h2>📌 사용자 정보</h2>
<ul>
    <li><strong>ID :</strong> <span th:text="${user.id}"></span></li>
    <li><strong>username :</strong> <span th:text="${user.username}"></span></li>
    <li><strong>email : </strong> <span th:text="${user.email}"></span></li>
</ul>

<a class="btn btn-secondary" href="/">home</a>
</body>
</html>
